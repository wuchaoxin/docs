<script setup lang="ts">
import Iframe from '@/components/Iframe.vue'
</script>

<Iframe src="/mobile.html#Container"></Iframe>

<div style="height:20px;width:100%;"></div>

# Container 组件

> 手写的普通 Container 组件，主要是解决文本收缩问题。

## 演示

### 固定高度 Height

设置组件高度即可固定好当前组件的高度，你可以通过传入 `slot footer` 去加入底部信息，从作用域插槽中获取当前展开状态以及修改展开方法。

```html
<Container height="100">
    <div>
        燃烧的法庭》是著名推理小说作家约翰·狄克森·卡尔非系列经典杰作之一，与H.M.爵士探案系列的《犹大之窗》、菲尔博士探案系列的《三口棺材》并称为卡尔三大神作。《燃烧的法庭》不仅有卡尔一贯的精妙密室诡计，更糅合了推理、惊悚、超自然、心理悬疑等元素，谜面富有吸引力，结尾急转直下，不失为约翰·狄克森·卡尔最棒的小说之一。
    </div>
    <div>
        《罗杰疑案》讲的是一个星期五的晚上，罗杰被“我”和他的管家帕克发现死在他的书房中。因为“我”对罗杰比较了解以及“我”的不在现场的证明，“我”成了波洛的助手。随着案件的剥茧抽丝，嫌疑人的逐渐排除，最后结局出人意料。
    </div>
    <template #footer="params">
        <Button type="text" @click="params.change">{{ params.expand ? '收起' : '展开' }}</Button>
    </template>
</Container>
```

### 固定个数限制 number

有时候我们并不知道限制高度多少，而只是想要限制显示多少个，这个时候就该这个属性出场啦。

```html
<Container :number="1">
    <div>
        燃烧的法庭》是著名推理小说作家约翰·狄克森·卡尔非系列经典杰作之一，与H.M.爵士探案系列的《犹大之窗》、菲尔博士探案系列的《三口棺材》并称为卡尔三大神作。《燃烧的法庭》不仅有卡尔一贯的精妙密室诡计，更糅合了推理、惊悚、超自然、心理悬疑等元素，谜面富有吸引力，结尾急转直下，不失为约翰·狄克森·卡尔最棒的小说之一。
    </div>
    <div>
        《罗杰疑案》讲的是一个星期五的晚上，罗杰被“我”和他的管家帕克发现死在他的书房中。因为“我”对罗杰比较了解以及“我”的不在现场的证明，“我”成了波洛的助手。随着案件的剥茧抽丝，嫌疑人的逐渐排除，最后结局出人意料。
    </div>
    <template #footer="params">
        <Button type="text" @click="params.change">{{ params.expand ? '收起' : '展开' }}</Button>
    </template>
</Container>
```

### 传入 html 进行渲染（清洗 html）

我们在全局顶层会进行 html 样式初始化，但是富文本有些想要保留，每次去样式穿透修改比较麻烦，这个做一个统一的处理。
> 如果后续这块需要多种样式处理，可以考虑新增一个 prop 去标记。

```html
<Container :html="html"></Container>
```
```ts
const html = "<ul><li>推荐书籍一：燃烧的法庭</li><li>推荐书籍二：罗杰疑案</li><li>推荐书籍三：东方快车谋杀案</li></ul>"
```

## Props

|  属性  | 描述             | 默认值 | 可能的值 |
| :----: | ---------------- | :----: | -------- |
| height | 限制的高度       |   -    | -        |
| number | 限制的个数       |   -    | -        |
|  html  | 传入的 html 渲染 |   -    | -        |
| desgin | 设计宽度         |  375   | -        |


## Events

|     事件     | 描述                    | 参数  | 备注                                  |
| :----------: | ----------------------- | :---: | ------------------------------------- |
| changeStatus | 修改展开状态            |   -   | -                                     |
|   refresh    | 刷新状态，针对 DOM 变更 |   -   | 默认会监听 dom 修改自动刷新，一般不会用上这个 api |

## Slots

|  名称  | 描述     |        参数         | 备注 |
| :----: | -------- | :-----------------: | ---- |
| footer | 底部区域 | expand,changeStatus | -    |