import{d as i,D as c,c as p,b as r,w as g,a as n,U as h,o as u,u as x,S as y,W as v,X as f}from"./app.b713d63a.js";const z=n('<h1 id="dropzone-组件" tabindex="-1">Dropzone 组件 <a class="header-anchor" href="#dropzone-组件" aria-hidden="true">#</a></h1><p>Dropzone 组件为上传图片组件，由于目前 vue3 下没有对应的稳定的库，这里直接通过 <code>dropzone</code> 库实现一个 vue3 组件。</p><p><a href="https://www.dropzone.dev/" target="_blank" rel="noreferrer">dropzone 文档</a></p><h2 id="基础展示" tabindex="-1">基础展示 <a class="header-anchor" href="#基础展示" aria-hidden="true">#</a></h2>',4),m=n('<h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:center;">属性</th><th>描述</th><th style="text-align:center;">默认值</th><th>可能的值</th><th>备注</th></tr></thead><tbody><tr><td style="text-align:center;">id</td><td>组件唯一标识</td><td style="text-align:center;">-</td><td>string</td><td>必传</td></tr><tr><td style="text-align:center;">options</td><td>配置信息</td><td style="text-align:center;">Object</td><td>Object</td><td>必传，详情见<a href="https://docs.dropzone.dev/configuration/basics/configuration-options" target="_blank" rel="noreferrer">options</a></td></tr><tr><td style="text-align:center;">includeStyling</td><td>是否使用默认样式</td><td style="text-align:center;">true</td><td>boolean</td><td>-</td></tr><tr><td style="text-align:center;">destroyDropzone</td><td>销毁组件时是否销毁 dropzone 对象</td><td style="text-align:center;">true</td><td>boolean</td><td>-</td></tr><tr><td style="text-align:center;">duplicateCheck</td><td>在 dropzone 中已删除的文件中检查添加的文件是否重复</td><td style="text-align:center;">false</td><td>boolean</td><td>-</td></tr><tr><td style="text-align:center;">useCustomSlot</td><td>使用在默认消息区域使用自定义槽</td><td style="text-align:center;">false</td><td>boolean</td><td>-</td></tr><tr><td style="text-align:center;">extraButton</td><td>是否使用一个额外的按钮</td><td style="text-align:center;">undefined</td><td>string|undefined</td><td>-</td></tr><tr><td style="text-align:center;">cos</td><td>是否使用 cos 上传</td><td style="text-align:center;">true</td><td>boolean</td><td>默认将启用 cos 上传，如果你想自定义上传可以关闭该选项</td></tr></tbody></table><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:center;">事件名称</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center;">vdropzone-extra-button</td><td>额外的按钮被点击触发</td></tr><tr><td style="text-align:center;">vdropzone-file-added(file)</td><td>添加到 dropzone 的文件</td></tr><tr><td style="text-align:center;">vdropzone-files-added(file)</td><td>添加到 dropzone 的文件</td></tr><tr><td style="text-align:center;">vdropzone-file-added-manually(file)</td><td>手动将文件添加到 dropzone</td></tr><tr><td style="text-align:center;">vdropzone-thumbnail(file, dataUrl)</td><td>生成缩略图时触发</td></tr><tr><td style="text-align:center;">vdropzone-success(file, response)</td><td>文件已成功上载</td></tr><tr><td style="text-align:center;">vdropzone-complete(response)</td><td>当上载成功或错误时调用</td></tr><tr><td style="text-align:center;">vdropzone-canceled(file)</td><td>当文件上载被取消时调用</td></tr><tr><td style="text-align:center;">vdropzone-error(file, message)</td><td>上传错误时触发</td></tr><tr><td style="text-align:center;">vdropzone-error-multiple(files, message)</td><td>uploadMultiple 为 true 时触发，同 error</td></tr><tr><td style="text-align:center;">vdropzone-removed-file(file)</td><td>已从 dropzone 中删除文件</td></tr><tr><td style="text-align:center;">vdropzone-sending(file, xhr, formData)</td><td>在发送前修改请求并向请求添加附加参数</td></tr><tr><td style="text-align:center;">vdropzone-complete-multiple(files)</td><td>uploadMultiple 为 true 时触发，同 complete</td></tr><tr><td style="text-align:center;">vdropzone-canceled(file)</td><td>当文件上载被取消时调用</td></tr><tr><td style="text-align:center;">vdropzone-max-files-reached(files)</td><td>当接受的文件数达到 maxFiles 限制时调用</td></tr><tr><td style="text-align:center;">vdropzone-max-files-exceeded(file)</td><td>因文件数超过 maxFiles 限制而被拒绝的文件</td></tr><tr><td style="text-align:center;">vdropzone-success-multiple(files)</td><td>uploadMultiple 为 true 时触发，同 success</td></tr><tr><td style="text-align:center;">vdropzone-sending-multiple(files, xhr, formData)</td><td>uploadMultiple 为 true 时触发，同 sending</td></tr><tr><td style="text-align:center;">vdropzone-queue-complete()</td><td>队列已完全处理/上载时激发</td></tr><tr><td style="text-align:center;">vdropzone-processing(file)</td><td>当一个文件被处理时（由于有一个队列，并不是所有文件都立即被处理），此事件以前称为 processingfile</td></tr><tr><td style="text-align:center;">vdropzone-processing-multiple(files)</td><td>uploadMultiple 为true时触发，同 processing</td></tr><tr><td style="text-align:center;">vdropzone-upload-progress(file, progress, bytesSent)</td><td>每当文件上载进度更改时，都会定期调用。获取进度参数作为第二个参数（0-100），获取 bytesSent 参数作为第三个参数（已发送到服务器的字节数）。当上传完成时，dropzone 确保 uploadprogress 将至少以100的百分比调用一次。警告：此函数可能会以相同的进度多次调用</td></tr><tr><td style="text-align:center;">vdropzone-mounted()</td><td>安装 dropzone 组件时激发</td></tr><tr><td style="text-align:center;">vdropzone-duplicate-file(file)</td><td>启用 duplicateCheck 并找到重复文件时激发</td></tr><tr><td style="text-align:center;">vdropzone-drop(event)</td><td>用户将文件放到了放置区</td></tr><tr><td style="text-align:center;">vdropzone-drag-start(event)</td><td>用户开始拖动任何位置</td></tr><tr><td style="text-align:center;">vdropzone-drag-end(event)</td><td>拖动已结束</td></tr><tr><td style="text-align:center;">vdropzone-drag-enter(event)</td><td>用户将文件拖到 Dropzone 上</td></tr><tr><td style="text-align:center;">vdropzone-drag-over(event)</td><td>用户正在 Dropzone 上拖动文件</td></tr><tr><td style="text-align:center;">vdropzone-drag-leave(event)</td><td>用户将文件拖出 Dropzone</td></tr></tbody></table><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:center;">方法名</th><th>描述</th><th>参数</th><th>备注</th></tr></thead><tbody><tr><td style="text-align:center;">removeAllFiles</td><td>删除所有文件（删除正在上传的文件需要传入参数）</td><td>bool</td><td>-</td></tr><tr><td style="text-align:center;">manuallyAddFile</td><td>手动添加文件</td><td>file, fileUrl</td><td>-</td></tr><tr><td style="text-align:center;">removeFile</td><td>删除指定文件</td><td>file</td><td>-</td></tr><tr><td style="text-align:center;">processQueue</td><td>手动开启 autoProcessQueue</td><td></td><td>-</td></tr><tr><td style="text-align:center;">getAcceptedFiles</td><td>获取所有通过的文件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">getRejectedFiles</td><td>获取所有被拒绝的文件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">getQueuedFiles</td><td>获取所有排队的文件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">getUploadingFiles</td><td>获取所有正在上载文件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">disable</td><td>禁用 dropzone 组件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">enable</td><td>启用 dropzone 组件</td><td></td><td>-</td></tr><tr><td style="text-align:center;">getDropzoneInstance</td><td>获取 dropzone 实例</td><td></td><td>-</td></tr><tr><td style="text-align:center;">setOption</td><td>设置 dropzone 配置</td><td>option,val</td><td>-</td></tr></tbody></table>',6),k=JSON.parse('{"title":"Dropzone 组件","description":"","frontmatter":{},"headers":[{"level":2,"title":"基础展示","slug":"基础展示","link":"#基础展示","children":[]},{"level":2,"title":"Props","slug":"props","link":"#props","children":[]},{"level":2,"title":"Events","slug":"events","link":"#events","children":[]},{"level":2,"title":"Methods","slug":"methods","link":"#methods","children":[]}],"relativePath":"frontend-common-guide/vue3/components/Web/Dropzone.md","lastUpdated":1675835613000}'),b={name:"frontend-common-guide/vue3/components/Web/Dropzone.md"},F=i({...b,setup(_){const l={url:"https://httpbin.org/post",headers:{"My-Awesome-Header":"header value"}},o=c(()=>y?v(()=>f(()=>import("./chunks/index.09550edd.js"),["assets/chunks/index.09550edd.js","assets/app.b713d63a.js","assets/chunks/request.d91bc885.js","assets/chunks/url.bf17ea7d.js","assets/chunks/progressBar.f9b1f47e.js"])):null);function a(){return(Date.now()+s(1,1e3)).toString()}function s(t,d){var e=d-t+1;return Math.floor(Math.random()*e+t)}return(t,d)=>{const e=h("ClientOnly");return u(),p("div",null,[z,r(e,null,{default:g(()=>[r(x(o),{id:a(),options:l,cos:!1},null,8,["id"])]),_:1}),m])}}});export{k as __pageData,F as default};
