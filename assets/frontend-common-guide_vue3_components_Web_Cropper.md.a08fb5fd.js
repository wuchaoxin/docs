import{d as R,r as s,D as x,z as k,S as _,c as L,f as a,b as p,w as y,a as z,U,o as w,u as m,s as F,V as S,t as f,W as V,X as B,_ as j}from"./app.3d9ab6db.js";import"./chunks/index.4ed993c7.js";const T=z('<h1 id="cropper-组件" tabindex="-1" data-v-4335c8a2>Cropper 组件 <a class="header-anchor" href="#cropper-组件" aria-hidden="true" data-v-4335c8a2>#</a></h1><p data-v-4335c8a2>Cropper 组件为图片裁剪组件（附带压缩功能），Cropper 相关的组件在 github 上有很多，这里选用了 <code data-v-4335c8a2>vue-cropper@next</code> 组件。</p><p data-v-4335c8a2><a href="https://github.com/xyxiao001/vue-cropper" target="_blank" rel="noreferrer" data-v-4335c8a2>vue-cropper 文档</a></p><div class="warning custom-block" data-v-4335c8a2><p class="custom-block-title" data-v-4335c8a2>提示</p><p data-v-4335c8a2>这里并没有封装组件，而是提供一下解决思路。因为目前看起来这个组件灵活性十分高，并且 api 已经够全面。因为 <code data-v-4335c8a2>vue3.2</code> 目前的限制，封装反而会丧失语法提示。</p></div><blockquote data-v-4335c8a2><p data-v-4335c8a2>如果你需要圆角的图片，请直接通过 css 处理，这并不需要 js 参与。</p></blockquote><h2 id="基础展示" tabindex="-1" data-v-4335c8a2>基础展示 <a class="header-anchor" href="#基础展示" aria-hidden="true" data-v-4335c8a2>#</a></h2>',6),A={class:"copper-container"},O={class:"preview"},D=["src"],q=JSON.parse('{"title":"Cropper 组件","description":"","frontmatter":{},"headers":[{"level":2,"title":"基础展示","slug":"基础展示","link":"#基础展示","children":[]}],"relativePath":"frontend-common-guide/vue3/components/Web/Cropper.md","lastUpdated":1675835613000}'),E={name:"frontend-common-guide/vue3/components/Web/Cropper.md"},N=R({...E,setup(I){const i=s(null),n=s({size:0,dataURL:""}),d=s(null),u=s(""),c=s(.9),h=x(()=>_?V(()=>B(()=>import("./chunks/vue-cropper.0fefd741.js"),["assets/chunks/vue-cropper.0fefd741.js","assets/app.3d9ab6db.js"])):null);k(c,()=>{v()}),g();function g(){if(!_)return;const t="https://ts1.cn.mm.bing.net/th/id/R-C.1cc9be82d3f852a2e09c6ea0fe8da0b9?rik=oA6jlJL1dhTArQ&riu=http%3a%2f%2fimg.crcz.com%2fallimg%2f202002%2f26%2f1582709499438278.jpg&ehk=RztWOBl7%2biproByAyjPcLgFxjL7Sh9%2fjzSQvL7HIFkw%3d&risl=&pid=ImgRaw&r=0&sres=1&sresct=1";let e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="blob",e.onload=function(o){if(this.status===200||this.status===0){let r=new FileReader;r.onload=function(l){n.value.dataURL=l.target.result},n.value.size=this.response.size,r.readAsDataURL(this.response)}},e.send()}function b(){v()}function v(){var t,e;(e=(t=i.value)==null?void 0:t.getCropBlob)==null||e.call(t,o=>{d.value=o,u.value=URL.createObjectURL(o)})}return(t,e)=>{const o=U("ClientOnly");return w(),L("div",null,[T,a("div",A,[p(o,null,{default:y(()=>{var r,l;return[p(m(h),{class:"cropper",ref_key:"cropperRef",ref:i,img:n.value.dataURL,autoCrop:!0,outputSize:c.value,onRealTime:b},null,8,["img","outputSize"]),a("div",O,[a("img",{src:u.value},null,8,D)]),a("div",null,[F(" 输出质量 "),p(m(S),{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=C=>c.value=C),min:.1,max:1,step:.1},null,8,["modelValue","min","step"]),a("div",null,"文件原本大小："+f(((((r=n.value)==null?void 0:r.size)||0)/1024).toFixed(1))+" kb",1),a("div",null,"文件输出大小："+f(((((l=d.value)==null?void 0:l.size)||0)/1024).toFixed(1))+" kb",1)])]}),_:1})])])}}});const Q=j(N,[["__scopeId","data-v-4335c8a2"]]);export{q as __pageData,Q as default};
