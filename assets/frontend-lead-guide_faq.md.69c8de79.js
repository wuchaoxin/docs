import{_ as e,c as a,o as s,a as n}from"./app.17fb9f66.js";const k=JSON.parse('{"title":"FAQ","description":"","frontmatter":{},"headers":[{"level":2,"title":"开发为何会出现无限刷新","slug":"开发为何会出现无限刷新","link":"#开发为何会出现无限刷新","children":[]},{"level":2,"title":"为何本地代码和线上代码不一致","slug":"为何本地代码和线上代码不一致","link":"#为何本地代码和线上代码不一致","children":[]},{"level":2,"title":"微信分享失败","slug":"微信分享失败","link":"#微信分享失败","children":[]},{"level":2,"title":"微信配置失败","slug":"微信配置失败","link":"#微信配置失败","children":[]},{"level":2,"title":"微信开发者工具执行两次","slug":"微信开发者工具执行两次","link":"#微信开发者工具执行两次","children":[]},{"level":2,"title":"Vant List 组件初次进入执行两次","slug":"vant-list-组件初次进入执行两次","link":"#vant-list-组件初次进入执行两次","children":[]},{"level":2,"title":"jenkins 拉取 submodule 提示密码错误","slug":"jenkins-拉取-submodule-提示密码错误","link":"#jenkins-拉取-submodule-提示密码错误","children":[]},{"level":2,"title":"老项目引入公共库 ?. 写法报错","slug":"老项目引入公共库-写法报错","link":"#老项目引入公共库-写法报错","children":[]}],"relativePath":"frontend-lead-guide/faq.md","lastUpdated":1675835613000}'),l={name:"frontend-lead-guide/faq.md"},r=n(`<h1 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-hidden="true">#</a></h1><h2 id="开发为何会出现无限刷新" tabindex="-1">开发为何会出现无限刷新 <a class="header-anchor" href="#开发为何会出现无限刷新" aria-hidden="true">#</a></h2><p>由于开发中使用了反向代理，会造成 socket 访问失败（加了端口没走 host 文件），这种情况偶尔会造成 vite 无限刷新。</p><p><a href="https://github.com/vitejs/vite/issues/1925" target="_blank" rel="noreferrer">github issue 问题说明</a></p><p>解决方案：配置 hmr 的实际 host</p><p><a href="https://cn.vitejs.dev/config/#server-hmr" target="_blank" rel="noreferrer">vite 配置说明</a></p><p>示例：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">server: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    host: &#39;127.0.0.1&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    port: VITE_PORT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    hmr: {</span></span>
<span class="line"><span style="color:#A6ACCD;">        host: &#39;127.0.0.1&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        port: VITE_PORT,</span></span>
<span class="line"><span style="color:#A6ACCD;">        protocol: &#39;ws&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    },</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="为何本地代码和线上代码不一致" tabindex="-1">为何本地代码和线上代码不一致 <a class="header-anchor" href="#为何本地代码和线上代码不一致" aria-hidden="true">#</a></h2><p>排查一下是否是 jenkins 依赖的问题，jenkins 走的 <code>package.lock.json</code>。如果你使用了其他的包管理器，会导致 <code>package.lock.json</code> 和你的包管理器（例如：<code>yarn.lock</code>）不同步，从而导致本地与线上的依赖版本不一致。</p><h2 id="微信分享失败" tabindex="-1">微信分享失败 <a class="header-anchor" href="#微信分享失败" aria-hidden="true">#</a></h2><p>微信配置成功但是分享一直都是链接的形式而不是自定义的。大概率你是从一个链接进入了页面而不是通过公众号，微信在后面对这方面进行了修改，通过链接进入的页面，自定义分享都会失效。</p><h2 id="微信配置失败" tabindex="-1">微信配置失败 <a class="header-anchor" href="#微信配置失败" aria-hidden="true">#</a></h2><p>因为 appid 跟公众号挂钩，所以我们切环境（不同环境公众号不一样），本地保存的 appid 会是错误的，需要清理下，微信 jssdk 才能正常配置好。</p><h2 id="微信开发者工具执行两次" tabindex="-1">微信开发者工具执行两次 <a class="header-anchor" href="#微信开发者工具执行两次" aria-hidden="true">#</a></h2><p>在微信开发者工具中点击刷新，有几率会发生 <code>beforeEach</code> 执行两次的情况（原因未知，仅在此处有问题，其他不受影响，可忽略）。</p><h2 id="vant-list-组件初次进入执行两次" tabindex="-1">Vant List 组件初次进入执行两次 <a class="header-anchor" href="#vant-list-组件初次进入执行两次" aria-hidden="true">#</a></h2><ul><li>未合理的设置 <code>finished</code> 属性</li><li>页面滑动到一定程度，跳转到一个具有 list 组件的页面，可能会发生多次请求见：<a href="https://github.com/youzan/vant/issues/7786" target="_blank" rel="noreferrer">详情</a><blockquote><p>进入页面后 200ms，使load 事件不触发。</p></blockquote></li></ul><h2 id="jenkins-拉取-submodule-提示密码错误" tabindex="-1">jenkins 拉取 submodule 提示密码错误 <a class="header-anchor" href="#jenkins-拉取-submodule-提示密码错误" aria-hidden="true">#</a></h2><p>如果 jenkins 打包提示 <code>remote: HTTP Basic: Access denied. The provided password or token is incorrect or your account has 2FA enabled and you must use a personal access token instead of a password. </code>，这个大概率是 jenkins 某种缓存导致（原因运维没有查出来），让运维删除对应环境 node节点 的库，重新打包即可。</p><h2 id="老项目引入公共库-写法报错" tabindex="-1">老项目引入公共库 ?. 写法报错 <a class="header-anchor" href="#老项目引入公共库-写法报错" aria-hidden="true">#</a></h2><p>如果在老项目中引入公共库（里面包含 <code>package.json</code> 被识别成另外的项目了），可能会报类型错误，需将 .babellrc 修改为 babel.config.js。</p>`,22),i=[r];function t(o,c,p,d,h,u){return s(),a("div",null,i)}const m=e(l,[["render",t]]);export{k as __pageData,m as default};
